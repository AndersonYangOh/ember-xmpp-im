<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12">
            <div class="well">
                <form class="form-horizontal">
                  <div class="form-group">
                    <label for="server" class="col-sm-2 control-label">XMPP Bosh Server</label>
                    <div class="col-sm-10">
                      {{input type="text" value=xmmpBoshServer size="20" class="form-control" id="server" placeHolder="XMPP Bosh Server"}}
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="jid" class="col-sm-2 control-label">User Full JID (user@domain)</label>
                    <div class="col-sm-10">
                      {{input type="text" value=jid size="20" class="form-control" id="jid" placeHolder="Enter user JID"}}
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="pass" class="col-sm-2 control-label">Password</label>
                    <div class="col-sm-10">
                      {{input type="password" value=password size="20" id="pass" class="form-control"}}
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                                        {{#unless isConnected}}
                                            <button {{action "connect"}} type="primary">Connect</button>
                                        {{else}}
                                            <button {{action "disconnect"}} type="danger">Disconnect</button>
                                        {{/unless}}
                    </div>
                  </div>
                  {{#if connectionError}}
                    <div class="form-group">
                      <div class="col-sm-offset-2 col-sm-10">
                        <p class="alert alert-danger"> {{connectionError}} </p>
                      </div>
                    </div>
                  {{/if}}
                </form>
            </div>
        </div>
    </div>

    {{#if isConnected}}
    <div class="row">
        <div class="col-sm-12">
            <div class="well">

                <form class="form-horizontal">
                  <div class="form-group">
                    <label for="pres" class="col-sm-2 control-label">Presence Status</label>
                    <div class="col-sm-10">
                      {{input type="text" value=updatePresence size="50"}} <button class="btn btn-default" {{action "updatePresence" updatePresence}}>Update status</button>
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="subs" class="col-sm-2 control-label">Add user JID</label>
                    <div class="col-sm-10">
                      {{input type="text" value=addJid size="50"}} <button class="btn btn-default" {{action "subscribe"}}>Subscribe</button>
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="subs" class="col-sm-2 control-label">Accept user JID</label>
                    <div class="col-sm-10">
                      {{input type="text" value=acceptJid size="50"}} <button class="btn btn-default" {{action "subscribed"}}>Subscribed</button>
                    </div>
                  </div>
                </form>
            </div>
        </div>
    </div>

        {{#if debugginOn}}
        <div class="row">
            <div class="col-sm-12">
                Raw Input XML:
                <div class="well clearfix">
                    {{inputData}}
                </div>
                Raw Output XML:
                <div class="well clearfix">
                    {{outputData}}
                </div>
            </div>
        </div>
        {{/if}}

    {{/if}}

</div>

{{xmpp-im isConnected=isConnected dsRosterArray=dsRosterArray jid=jid connection=connection store=store}}
